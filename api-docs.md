# 招聘数据分析API文档

## 基本信息

- **API标题**: 招聘数据分析API
- **描述**: 提供招聘数据分析的API接口
- **版本**: 1.0.0
- **基础路径**: `/api/v1`
- **支持协议**: HTTP, HTTPS

## 接口列表

### 1. 城市分布数据

#### 1.1 获取城市分布数据

- **接口**: `/city-distribution`
- **方法**: GET
- **描述**: 返回招聘职位的城市分布统计数据
- **返回格式**: application/json
- **响应**:
  - **200**: 成功获取城市分布数据
    ```json
    {
      "code": 200,
      "message": "获取城市分布数据成功",
      "data": [
        {
          "工作地点": "上海",
          "count": 1973
        },
        // ...更多城市数据
      ]
    }
    ```
  - **500**: 服务器错误

#### 1.2 获取招聘数量前N的城市数据

- **接口**: `/city-distribution/top/{limit}`
- **方法**: GET
- **描述**: 返回招聘职位数量排名前N的城市数据
- **参数**:
  - `limit` (路径参数, 整数): 返回的城市数量
- **返回格式**: application/json
- **响应**:
  - **200**: 成功获取前N名城市数据
    ```json
    {
      "code": 200,
      "message": "获取招聘数量前10的城市数据成功",
      "data": [
        {
          "工作地点": "上海",
          "count": 1973
        },
        // ...更多城市数据
      ]
    }
    ```
  - **500**: 服务器错误

#### 1.3 获取适合图表展示的城市分布数据

- **接口**: `/city-distribution/chart/{limit}`
- **方法**: GET
- **描述**: 返回适合图表展示的城市分布数据，包含城市名称和数量两个数组
- **参数**:
  - `limit` (路径参数, 整数): 返回的城市数量
- **返回格式**: application/json
- **响应**:
  - **200**: 成功获取图表数据
    ```json
    {
      "code": 200,
      "message": "获取图表数据成功",
      "data": {
        "cities": ["上海", "深圳", "广州"],
        "counts": [1973, 1379, 1284]
      }
    }
    ```
  - **500**: 服务器错误

### 2. 公司规模分布数据

#### 2.1 获取公司规模分布数据

- **接口**: `/company-size-distribution`
- **方法**: GET
- **描述**: 返回招聘职位的公司规模分布统计数据
- **返回格式**: application/json
- **响应**:
  - **200**: 成功获取公司规模分布数据
    ```json
    {
      "code": 200,
      "message": "获取公司规模分布数据成功",
      "data": [
        {
          "公司规模": "50-150",
          "count": 4009
        },
        // ...更多规模数据
      ]
    }
    ```
  - **500**: 服务器错误

#### 2.2 获取适合图表展示的公司规模分布数据

- **接口**: `/company-size-distribution/chart`
- **方法**: GET
- **描述**: 返回适合图表展示的公司规模分布数据，包含规模区间、数量和占比数组
- **返回格式**: application/json
- **响应**:
  - **200**: 成功获取公司规模图表数据
    ```json
    {
      "code": 200,
      "message": "获取公司规模图表数据成功",
      "data": {
        "sizes": ["50-150", "150-500", "1000-5000"],
        "counts": [4009, 3562, 2231],
        "percentages": [28.93, 25.7, 16.1],
        "total": 13861
      }
    }
    ```
  - **500**: 服务器错误

### 3. 学历分布数据

#### 3.1 获取学历分布数据

- **接口**: `/education-distribution`
- **方法**: GET
- **描述**: 返回招聘职位的学历分布统计数据
- **返回格式**: application/json
- **响应**:
  - **200**: 成功获取学历分布数据
    ```json
    {
      "code": 200,
      "message": "获取学历分布数据成功",
      "data": [
        {
          "学历": "本科",
          "count": 5461
        },
        // ...更多学历数据
      ]
    }
    ```
  - **500**: 服务器错误

#### 3.2 获取适合图表展示的学历分布数据

- **接口**: `/education-distribution/chart`
- **方法**: GET
- **描述**: 返回适合图表展示的学历分布数据，包含学历类型、数量和占比数组
- **返回格式**: application/json
- **响应**:
  - **200**: 成功获取学历图表数据
    ```json
    {
      "code": 200,
      "message": "获取学历图表数据成功",
      "data": {
        "education_levels": ["大专", "本科", "硕士", "博士"],
        "counts": [8272, 5461, 29, 2],
        "percentages": [60.12, 39.68, 0.21, 0.01],
        "total": 13764
      }
    }
    ```
  - **500**: 服务器错误

### 4. 高薪职位分析

#### 4.1 获取高薪职位学历分布数据

- **接口**: `/high-salary-analysis`
- **方法**: GET
- **描述**: 返回高薪职位的学历分布统计数据
- **返回格式**: application/json
- **响应**:
  - **200**: 成功获取高薪职位学历分布数据
    ```json
    {
      "code": 200,
      "message": "获取高薪职位学历分布数据成功",
      "data": [
        {
          "学历": "本科",
          "高薪职位数": 2291,
          "占比": 65.23
        },
        // ...更多学历数据
      ]
    }
    ```
  - **500**: 服务器错误

#### 4.2 获取适合图表展示的高薪职位学历分布数据

- **接口**: `/high-salary-analysis/chart`
- **方法**: GET
- **描述**: 返回适合图表展示的高薪职位学历分布数据，包含学历类型、数量和占比数组
- **返回格式**: application/json
- **响应**:
  - **200**: 成功获取高薪职位学历图表数据
    ```json
    {
      "code": 200,
      "message": "获取高薪职位学历图表数据成功",
      "data": {
        "education_levels": ["本科", "大专", "硕士", "博士"],
        "counts": [2291, 1199, 20, 2],
        "percentages": [65.23, 34.14, 0.57, 0.06]
      }
    }
    ```
  - **500**: 服务器错误

### 5. 学历薪资分析

#### 5.1 获取学历薪资分析数据

- **接口**: `/salary-analysis`
- **方法**: GET
- **描述**: 返回各学历的薪资分析统计数据
- **返回格式**: application/json
- **响应**:
  - **200**: 成功获取学历薪资分析数据
    ```json
    {
      "code": 200,
      "message": "获取学历薪资分析数据成功",
      "data": [
        {
          "学历": "博士",
          "职位数量": 2,
          "平均薪资": 29583.33,
          "最低薪资": "17500.0",
          "最高薪资": "41666.66666666667"
        },
        // ...更多学历薪资数据
      ]
    }
    ```
  - **500**: 服务器错误

#### 5.2 获取适合图表展示的学历薪资分析数据

- **接口**: `/salary-analysis/chart`
- **方法**: GET
- **描述**: 返回适合图表展示的学历薪资分析数据，包含学历类型、平均薪资、最低薪资、最高薪资和职位数量
- **返回格式**: application/json
- **响应**:
  - **200**: 成功获取学历薪资图表数据
    ```json
    {
      "code": 200,
      "message": "获取学历薪资图表数据成功",
      "data": {
        "education_levels": ["博士", "硕士", "本科", "大专", "在校生"],
        "avg_salaries": [29583.33, 13752.87, 11759.09, 7861.5, 4952.06],
        "min_salaries": [17500.0, 11666.67, 10000.0, 10000.0, 1750.0],
        "max_salaries": [41666.67, 9000.0, 9583.33, 9583.33, 7500.0],
        "job_counts": [2, 29, 5461, 8272, 97]
      }
    }
    ```
  - **500**: 服务器错误

### 6. 薪资区间分布

#### 6.1 获取薪资区间分布原始数据

- **接口**: `/salary-distribution`
- **方法**: GET
- **描述**: 返回薪资区间分布的原始数据
- **返回格式**: application/json
- **响应**:
  - **200**: 成功获取薪资区间分布数据
    ```json
    {
      "code": 200,
      "message": "获取薪资区间分布数据成功",
      "data": [
        {
          "学历": "本科",
          "薪资区间": "12000-15000",
          "数量": 1123
        },
        // ...更多薪资区间数据
      ]
    }
    ```
  - **500**: 服务器错误

#### 6.2 获取按学历分组的薪资区间分布数据

- **接口**: `/salary-distribution/by-education`
- **方法**: GET
- **描述**: 返回按学历分组的薪资区间分布数据
- **返回格式**: application/json
- **响应**:
  - **200**: 成功获取按学历分组的薪资区间分布数据
    ```json
    {
      "code": 200,
      "message": "获取按学历分组的薪资区间分布数据成功",
      "data": {
        "education_levels": ["本科", "大专", "硕士", "博士", "在校生"],
        "salary_ranges": ["5000以下", "5000-8000", "8000-12000", "12000-15000", "15000以上"],
        "data": [
          [
            {"count": 315, "percentage": 7.14},
            // ...更多薪资区间数据
          ],
          // ...更多学历数据
        ]
      }
    }
    ```
  - **500**: 服务器错误

#### 6.3 获取按薪资区间分组的学历分布数据

- **接口**: `/salary-distribution/by-range`
- **方法**: GET
- **描述**: 返回按薪资区间分组的学历分布数据
- **返回格式**: application/json
- **响应**:
  - **200**: 成功获取按薪资区间分组的学历分布数据
    ```json
    {
      "code": 200,
      "message": "获取按薪资区间分组的学历分布数据成功",
      "data": {
        "salary_ranges": ["5000以下", "5000-8000", "8000-12000", "12000-15000", "15000以上"],
        "education_levels": ["本科", "大专", "硕士", "博士", "在校生"],
        "data": [
          [
            {"count": 315, "percentage": 14.82},
            // ...更多学历数据
          ],
          // ...更多薪资区间数据
        ]
      }
    }
    ```
  - **500**: 服务器错误

#### 6.4 获取薪资区间总体分布数据

- **接口**: `/salary-distribution/overview`
- **方法**: GET
- **描述**: 返回薪资区间总体分布数据
- **返回格式**: application/json
- **响应**:
  - **200**: 成功获取薪资区间总体分布数据
    ```json
    {
      "code": 200,
      "message": "获取薪资区间总体分布数据成功",
      "data": {
        "salary_ranges": ["5000以下", "5000-8000", "8000-12000", "12000-15000", "15000以上"],
        "counts": [2123, 5544, 2798, 1814, 1582],
        "percentages": [15.34, 40.05, 20.22, 13.11, 11.28],
        "total": 13861
      }
    }
    ```
  - **500**: 服务器错误

## 前端开发建议

1. 所有接口返回的数据结构都遵循 `{code, message, data}` 格式
2. 图表类接口（带有 `/chart` 后缀）已经提供了适合直接用于图表库（如ECharts、Chart.js等）的数据格式
3. 错误处理应统一捕获 500 状态码的响应
4. 对于分页数据，可以使用 `/top/{limit}` 类型的接口来控制数据量 